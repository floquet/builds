spack install py-gnuplot  % gcc@7.3.1 ^python@3.10.1 arch=linux-amzn2-haswell 
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/berkeley-db-18.1.40-tf5x5e2xdysmspo3nyyawapxbqzeenr3
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/libiconv-1.16-o3y36rdp3m766ety5zuclyjunpgov6xm
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/pkgconf-1.8.0-iybru2yqbexsz5aspqayx5zndfllr6yd
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/zlib-1.2.11-grnngptxrx4mjl2amtjydpwyox6sxb2k
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/libmd-1.0.3-7tnv64czelz5nrxp4e4czbwdhugjwrv2
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/xz-5.2.5-zxjhjr5aymhlruwzo6rzlbrmu6ulfcp2
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/libffi-3.3-mz3g7yupqdcaarst3qppuxujfrof47xq
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/diffutils-3.8-azne57azfynmrv3n4krprtyfsawarnoe
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/tar-1.34-hc67w7lmofxbtpcgjfyvigzl4htbkw7z
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/util-linux-uuid-2.36.2-3ddm36qxicbqwautcvifxtenf7irrqbp
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/ncurses-6.2-zq77vonbyxp2b45mzblxjhhescp3fqa7
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/libbsd-0.11.3-4mpclzaclz2ngqjlgsubtxruafre3kin
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/libxml2-2.9.12-cgilpox6hkrxvevb4qyisp6te3z4jyuc
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/bzip2-1.0.8-rmbt25sw5ikf75acvnmalbaymvnhbj7f
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/readline-8.1-fhpkrrpilgyckyrmf3s75h2jerbz7vnv
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/expat-2.4.1-ld7lymbdlhywrbtrln3wqckl2d6ztl7n
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/gettext-0.21-pyscegw64kivlhydzxt4can2oajbdvns
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/sqlite-3.36.0-a5hig4576hqicc65mxdseaozqcv2rzxj
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/gdbm-1.19-5lan2rprwy56jwjv6b4icf4yp3ctjua4
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/perl-5.34.0-hwysitcbnwj7robaqllmdbsxbsqcp4xw
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/openssl-1.1.1l-qcgojzktlzhwuiifxccxtkhvozydig64
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/openblas-0.3.10-5u2cxtqmshfg5mmm7fjbzcxb3spkq7ll
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/python-3.10.1-n4qlomsjrzopnwnpkfkaxis33z436shj
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/py-setuptools-59.4.0-jibv6rbve5cvw3xtfmkwjr5vxqoounya
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/py-cython-0.29.24-zu7h5jauya2b4bbjutvgioijfgaccy2j
[+] /home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/py-numpy-1.21.5-5kvv422tvdganyevi43j5p6ehzdhbjpg
==> Installing py-gnuplot-1.8-k7bqsqx63kvvb33fsupdhgtghdm5prh2
==> No binary for py-gnuplot-1.8-k7bqsqx63kvvb33fsupdhgtghdm5prh2 found: installing from source
<string>:3: DeprecationWarning: The distutils package is deprecated and slated for removal in Python 3.12. Use setuptools or check PEP 632 for potential alternatives
<string>:3: DeprecationWarning: The distutils.sysconfig module is deprecated, use sysconfig instead
==> Fetching file:///spacktivity/mirror/_source-cache/archive/ab/ab339be7847d30a8acfd616f27b5021bfde0999b7bf2d68400fbe62c53106e21.tar.gz
==> No patches needed for py-gnuplot
==> py-gnuplot: Executing phase: 'build'
==> Error: ProcessError: Command exited with status 1:
    '/home/dantopa/spacktivity/amazonlinux-2-SpWx-docker-spack/opt/spack/linux-amzn2-haswell/gcc-7.3.1/python-3.10.1-n4qlomsjrzopnwnpkfkaxis33z436shj/bin/python3.10' '-s' 'setup.py' '--no-user-cfg' 'build'

1 error found in build log:
  >> 3    /tmp/dantopa/spack-stage/spack-stage-py-gnuplot-1.8-k7bqsqx63kvvb33fsupdhgtghdm5prh2/spack-src/setup.py:12: DeprecationWarning: The distutils package is deprecated and slated for remo
          val in Python 3.12. Use setuptools or check PEP 632 for potential alternatives
     4      from distutils.core import setup
     5    Traceback (most recent call last):
     6      File "/tmp/dantopa/spack-stage/spack-stage-py-gnuplot-1.8-k7bqsqx63kvvb33fsupdhgtghdm5prh2/spack-src/PlotItems.py", line 20, in <module>
     7        from cStringIO import StringIO
     8    ModuleNotFoundError: No module named 'cStringIO'
     9    

See build log for details:
  /tmp/dantopa/spack-stage/spack-stage-py-gnuplot-1.8-k7bqsqx63kvvb33fsupdhgtghdm5prh2/spack-build-out.txt

